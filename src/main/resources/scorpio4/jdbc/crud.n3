@prefix xsd: 		<http://www.w3.org/2001/XMLSchema#>.

@prefix demo: 		<urn:scorpio4demo:>.
@prefix flo: 		<http://scorpio4.com/vocab/v1/flo/>.
@prefix bean: 		<http://scorpio4.com/vocab/v1/bean/>.
@prefix : 		    <urn:scorpio4demo:toolchain:api:>.

<restlet:/user/{id}?restletMethods=GET,PUT,DELETE"/>
	flo:to	:getUser.

:getUser	flo:choice [
	flo:when	[
		flo:if 		"${header.CamelHttpMethod} == 'GET'";
		flo:body	"select * from user where id = ${header.id}";
	];
	flo:when	[
		flo:if		"${header.CamelHttpMethod} == 'PUT'";
		flo:body	"update user set firstName='${header.firstName}', lastName='${header.lastName}' where id = ${header.id}";
	];
	flo:otherwise	flo:stop;
].
